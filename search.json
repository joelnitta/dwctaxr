[{"path":"https://joelnitta.github.io/dwctaxon/LICENSE.html","id":null,"dir":"","previous_headings":"","what":"MIT License","title":"MIT License","text":"Copyright (c) 2021 dwctaxon authors Permission hereby granted, free charge, person obtaining copy software associated documentation files (“Software”), deal Software without restriction, including without limitation rights use, copy, modify, merge, publish, distribute, sublicense, /sell copies Software, permit persons Software furnished , subject following conditions: copyright notice permission notice shall included copies substantial portions Software. SOFTWARE PROVIDED “”, WITHOUT WARRANTY KIND, EXPRESS IMPLIED, INCLUDING LIMITED WARRANTIES MERCHANTABILITY, FITNESS PARTICULAR PURPOSE NONINFRINGEMENT. EVENT SHALL AUTHORS COPYRIGHT HOLDERS LIABLE CLAIM, DAMAGES LIABILITY, WHETHER ACTION CONTRACT, TORT OTHERWISE, ARISING , CONNECTION SOFTWARE USE DEALINGS SOFTWARE.","code":""},{"path":"https://joelnitta.github.io/dwctaxon/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Joel H. Nitta. Author, maintainer.","code":""},{"path":"https://joelnitta.github.io/dwctaxon/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Nitta J (2022). dwctaxon: Tools Working Darwin Core Taxon Data. https://joelnitta.github.io/dwctaxon/, https://github.com/joelnitta/dwctaxon.","code":"@Manual{,   title = {dwctaxon: Tools for Working with Darwin Core Taxon Data},   author = {Joel H. Nitta},   year = {2022},   note = {https://joelnitta.github.io/dwctaxon/, https://github.com/joelnitta/dwctaxon}, }"},{"path":"https://joelnitta.github.io/dwctaxon/index.html","id":"dwctaxon-","dir":"","previous_headings":"","what":"Tools for Working with Darwin Core Taxon Data in R","title":"Tools for Working with Darwin Core Taxon Data in R","text":"goal dwctaxon facilitate working Darwin Core Taxon data R. typical use-case dwctaxon create Darwin Core Taxon datasets scratch (although ), rather enable easy modification validation existing datasets. primary motivation validation dataset can used taxonomic name resolution, example taxastand R package.","code":""},{"path":"https://joelnitta.github.io/dwctaxon/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"Tools for Working with Darwin Core Taxon Data in R","text":"dwctaxon can installed r-universe github. ","code":"install.packages(\"dwctaxon\", repos = 'https://joelnitta.r-universe.dev') # install.packages(\"remotes\") remotes::install_github(\"joelnitta/dwctaxon\")"},{"path":"https://joelnitta.github.io/dwctaxon/index.html","id":"usage","dir":"","previous_headings":"","what":"Usage","title":"Tools for Working with Darwin Core Taxon Data in R","text":"First, load packages dataset work : filmy_taxonomy taxonomic dataset filmy ferns included taxastand package. functions dwctaxon package start dct_.","code":"library(taxastand) library(tibble) library(dplyr) #>  #> Attaching package: 'dplyr' #> The following objects are masked from 'package:stats': #>  #>     filter, lag #> The following objects are masked from 'package:base': #>  #>     intersect, setdiff, setequal, union library(dwctaxon)  filmy_taxonomy #> # A tibble: 2,729 × 31 #>     taxonID identifier   datas…¹ datas…² accep…³ paren…⁴ taxon…⁵ taxon…⁶ verba…⁷ #>       <dbl> <chr>          <dbl> <chr>     <dbl>   <dbl> <chr>   <chr>   <chr>   #>  1 54115096 f5950556e57…     140 World … NA       5.48e7 accept… species <NA>    #>  2 54133783 <NA>             140 World …  5.41e7 NA      synonym species <NA>    #>  3 54115097 bb5e2f01763…     140 World … NA       5.48e7 accept… species <NA>    #>  4 54133784 <NA>             140 World …  5.41e7 NA      synonym species <NA>    #>  5 54115098 002e095eec0…     140 World … NA       5.48e7 accept… species <NA>    #>  6 54133785 <NA>             140 World …  5.41e7 NA      synonym species <NA>    #>  7 54115099 4bd27cdc1fd…     140 World … NA       5.48e7 provis… species <NA>    #>  8 54133786 <NA>             140 World …  5.41e7 NA      synonym species <NA>    #>  9 54133787 <NA>             140 World …  5.41e7 NA      synonym species <NA>    #> 10 54133788 <NA>             140 World …  5.41e7 NA      synonym species <NA>    #> # … with 2,719 more rows, 22 more variables: scientificName <chr>, #> #   kingdom <chr>, phylum <chr>, class <chr>, order <chr>, superfamily <lgl>, #> #   family <chr>, genericName <chr>, genus <chr>, subgenus <lgl>, #> #   specificEpithet <chr>, infraspecificEpithet <chr>, #> #   scientificNameAuthorship <chr>, source <lgl>, namePublishedIn <lgl>, #> #   nameAccordingTo <chr>, modified <chr>, description <chr>, #> #   taxonConceptID <lgl>, scientificNameID <chr>, references <chr>, …"},{"path":"https://joelnitta.github.io/dwctaxon/index.html","id":"validate-taxonomy","dir":"","previous_headings":"Usage","what":"Validate taxonomy","title":"Tools for Working with Darwin Core Taxon Data in R","text":"","code":"# Data not meeting Darwin Core Taxon standards will error dct_validate(filmy_taxonomy) #> Error: `check_col_names` failed. Invalid column names present: identifier, superfamily, source, description, isExtinct. See dct_terms for valid column names."},{"path":"https://joelnitta.github.io/dwctaxon/index.html","id":"fix-taxonomy","dir":"","previous_headings":"Usage","what":"Fix taxonomy","title":"Tools for Working with Darwin Core Taxon Data in R","text":"","code":"filmy_taxonomy_fixed <- dct_fix_format(filmy_taxonomy) #> Dropping the following non-standard columns: identifier, superfamily, source, description, isExtinct #> Coercing column taxonID from numeric to character #> Coercing column datasetID from numeric to character #> Coercing column acceptedNameUsageID from numeric to character #> Coercing column parentNameUsageID from numeric to character #> Coercing column subgenus from logical to character #> Coercing column namePublishedIn from logical to character #> Coercing column taxonConceptID from logical to character  # Now the validation passes dct_validate(filmy_taxonomy_fixed) #> # A tibble: 2,729 × 26 #>    taxonID  datasetID datasetN…¹ accep…² paren…³ taxon…⁴ taxon…⁵ verba…⁶ scien…⁷ #>    <chr>    <chr>     <chr>      <chr>   <chr>   <chr>   <chr>   <chr>   <chr>   #>  1 54115096 140       World Fer… <NA>    548303… accept… species <NA>    Cephal… #>  2 54133783 140       World Fer… 541150… <NA>    synonym species <NA>    Tricho… #>  3 54115097 140       World Fer… <NA>    548303… accept… species <NA>    Cephal… #>  4 54133784 140       World Fer… 541150… <NA>    synonym species <NA>    Tricho… #>  5 54115098 140       World Fer… <NA>    548303… accept… species <NA>    Cephal… #>  6 54133785 140       World Fer… 541150… <NA>    synonym species <NA>    Tricho… #>  7 54115099 140       World Fer… <NA>    548303… provis… species <NA>    Cephal… #>  8 54133786 140       World Fer… 541151… <NA>    synonym species <NA>    Cephal… #>  9 54133787 140       World Fer… 541151… <NA>    synonym species <NA>    Cephal… #> 10 54133788 140       World Fer… 541151… <NA>    synonym species <NA>    Cephal… #> # … with 2,719 more rows, 17 more variables: kingdom <chr>, phylum <chr>, #> #   class <chr>, order <chr>, family <chr>, genericName <chr>, genus <chr>, #> #   subgenus <chr>, specificEpithet <chr>, infraspecificEpithet <chr>, #> #   scientificNameAuthorship <chr>, namePublishedIn <chr>, #> #   nameAccordingTo <chr>, modified <chr>, taxonConceptID <chr>, #> #   scientificNameID <chr>, references <chr>, and abbreviated variable names #> #   ¹​datasetName, ²​acceptedNameUsageID, ³​parentNameUsageID, ⁴​taxonomicStatus, …"},{"path":"https://joelnitta.github.io/dwctaxon/index.html","id":"add-rows","dir":"","previous_headings":"Usage","what":"Add rows","title":"Tools for Working with Darwin Core Taxon Data in R","text":"","code":"filmy_taxonomy_fixed |>   dct_add_row(sci_name = \"Hymenophyllum dwctaxonense Nitta\", taxonomicStatus = \"accepted\") |>   # The new row is added at the end. Slice to that so we can see it.   slice_tail(n = 1) |>   select(taxonID, taxonomicStatus, scientificName, modified) #> # A tibble: 1 × 4 #>   taxonID                          taxonomicStatus scientificName        modif…¹ #>   <chr>                            <chr>           <chr>                 <chr>   #> 1 193e2011c8ace0ed138af91f41a335cc accepted        Hymenophyllum dwctax… 2022-1… #> # … with abbreviated variable name ¹​modified"},{"path":"https://joelnitta.github.io/dwctaxon/index.html","id":"change-status","dir":"","previous_headings":"Usage","what":"Change status","title":"Tools for Working with Darwin Core Taxon Data in R","text":"","code":"filmy_taxonomy_fixed |>   # The modified entry is 'taxonomicStatus' of the second row. Slice to that so we can see it.   dct_change_status(taxon_id = \"54133783\", new_status = \"accepted\") |>   slice_head(n = 2) |>   select(taxonID, taxonomicStatus, scientificName, modified) #> # A tibble: 2 × 4 #>   taxonID  taxonomicStatus scientificName                modified            #>   <chr>    <chr>           <chr>                         <chr>               #> 1 54115096 accepted name   Cephalomanes atrovirens Presl Nov 2018            #> 2 54133783 accepted        Trichomanes crassum Copel.    2022-10-20 16:33:10"},{"path":"https://joelnitta.github.io/dwctaxon/index.html","id":"piping","dir":"","previous_headings":"Usage","what":"Piping","title":"Tools for Working with Darwin Core Taxon Data in R","text":"functions dwctaxon take dataframe first argument, “pipe-friendly” can chained together: ’s often good idea include dct_validate() make sure modified taxonomic database still correctly formatted.","code":"filmy_taxonomy |>   dct_fix_format() |>   dct_change_status(taxon_id = \"54133783\", new_status = \"accepted\") |>   dct_add_row(sci_name = \"Hymenophyllum dwctaxonense Nitta\", taxonomicStatus = \"accepted\") |>   dct_validate() #> Dropping the following non-standard columns: identifier, superfamily, source, description, isExtinct #> Coercing column taxonID from numeric to character #> Coercing column datasetID from numeric to character #> Coercing column acceptedNameUsageID from numeric to character #> Coercing column parentNameUsageID from numeric to character #> Coercing column subgenus from logical to character #> Coercing column namePublishedIn from logical to character #> Coercing column taxonConceptID from logical to character #> # A tibble: 2,730 × 26 #>    taxonID  datasetID datasetN…¹ accep…² paren…³ taxon…⁴ taxon…⁵ verba…⁶ scien…⁷ #>    <chr>    <chr>     <chr>      <chr>   <chr>   <chr>   <chr>   <chr>   <chr>   #>  1 54115096 140       World Fer… <NA>    548303… accept… species <NA>    Cephal… #>  2 54133783 140       World Fer… <NA>    <NA>    accept… species <NA>    Tricho… #>  3 54115097 140       World Fer… <NA>    548303… accept… species <NA>    Cephal… #>  4 54133784 140       World Fer… 541150… <NA>    synonym species <NA>    Tricho… #>  5 54115098 140       World Fer… <NA>    548303… accept… species <NA>    Cephal… #>  6 54133785 140       World Fer… 541150… <NA>    synonym species <NA>    Tricho… #>  7 54115099 140       World Fer… <NA>    548303… provis… species <NA>    Cephal… #>  8 54133786 140       World Fer… 541151… <NA>    synonym species <NA>    Cephal… #>  9 54133787 140       World Fer… 541151… <NA>    synonym species <NA>    Cephal… #> 10 54133788 140       World Fer… 541151… <NA>    synonym species <NA>    Cephal… #> # … with 2,720 more rows, 17 more variables: kingdom <chr>, phylum <chr>, #> #   class <chr>, order <chr>, family <chr>, genericName <chr>, genus <chr>, #> #   subgenus <chr>, specificEpithet <chr>, infraspecificEpithet <chr>, #> #   scientificNameAuthorship <chr>, namePublishedIn <chr>, #> #   nameAccordingTo <chr>, modified <chr>, taxonConceptID <chr>, #> #   scientificNameID <chr>, references <chr>, and abbreviated variable names #> #   ¹​datasetName, ²​acceptedNameUsageID, ³​parentNameUsageID, ⁴​taxonomicStatus, …"},{"path":"https://joelnitta.github.io/dwctaxon/index.html","id":"citing-this-package","dir":"","previous_headings":"","what":"Citing this package","title":"Tools for Working with Darwin Core Taxon Data in R","text":"use package, please cite ! example: example DOI overall package. latest DOI, use using latest version package:  can find DOIs older versions viewing “Releases” menu right.","code":"Nitta, JH (2021) dwctaxon: Tools for working with Darwin Core Taxon data in R. https://doi.org/10.5281/zenodo.6388271"},{"path":"https://joelnitta.github.io/dwctaxon/index.html","id":"license","dir":"","previous_headings":"","what":"License","title":"Tools for Working with Darwin Core Taxon Data in R","text":"MIT License","code":""},{"path":"https://joelnitta.github.io/dwctaxon/reference/dct_add_row.html","id":null,"dir":"Reference","previous_headings":"","what":"Add one entry to a taxonomic database — dct_add_row","title":"Add one entry to a taxonomic database — dct_add_row","text":"Add one entry taxonomic database","code":""},{"path":"https://joelnitta.github.io/dwctaxon/reference/dct_add_row.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Add one entry to a taxonomic database — dct_add_row","text":"","code":"dct_add_row(tax_dat, taxon_id = NULL, sci_name, strict = FALSE, ...)"},{"path":"https://joelnitta.github.io/dwctaxon/reference/dct_add_row.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Add one entry to a taxonomic database — dct_add_row","text":"tax_dat Dataframe; taxonomic database Darwin Core format taxon_id taxonID use new entry; optional, assigned automatically provided. sci_name scientificName use new entry strict Logical; taxonomic checks run updated taxonomic database? ... Additional data include, specified sets named character strings; e.g., parentNameUsageID = \"6SH4\". name string must valid column name data Darwin Core format.","code":""},{"path":"https://joelnitta.github.io/dwctaxon/reference/dct_add_row.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Add one entry to a taxonomic database — dct_add_row","text":"Dataframe; taxonomic database Darwin Core format","code":""},{"path":"https://joelnitta.github.io/dwctaxon/reference/dct_add_row.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Add one entry to a taxonomic database — dct_add_row","text":"","code":"tibble::tibble(   taxonID = \"123\",   scientificName = \"Foogenus barspecies\",   acceptedNameUsageID = NA_character_,   taxonomicStatus = \"accepted\" ) |>   dct_add_row(     sci_name = \"Foogenus barspecies var. bla\",     parentNameUsageID = \"123\",     nameAccordingTo = \"me\",     strict = TRUE   ) #> # A tibble: 2 × 7 #>   taxonID                        scien…¹ accep…² taxon…³ modif…⁴ paren…⁵ nameA…⁶ #>   <chr>                          <chr>   <chr>   <chr>   <chr>   <chr>   <chr>   #> 1 123                            Foogen… NA      accept… NA      NA      NA      #> 2 cfedfbbb45bd95ee6482b8ab91916… Foogen… NA      NA      2022-1… 123     me      #> # … with abbreviated variable names ¹​scientificName, ²​acceptedNameUsageID, #> #   ³​taxonomicStatus, ⁴​modified, ⁵​parentNameUsageID, ⁶​nameAccordingTo"},{"path":"https://joelnitta.github.io/dwctaxon/reference/dct_change_status.html","id":null,"dir":"Reference","previous_headings":"","what":"Change the taxonomic status of data in a taxonomic database — dct_change_status","title":"Change the taxonomic status of data in a taxonomic database — dct_change_status","text":"one taxon_id sci_name needs entered. Either work long makes partial full match one row data.","code":""},{"path":"https://joelnitta.github.io/dwctaxon/reference/dct_change_status.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Change the taxonomic status of data in a taxonomic database — dct_change_status","text":"","code":"dct_change_status(   tax_dat,   taxon_id = NULL,   sci_name = NULL,   new_status,   usage_id = NULL,   usage_name = NULL,   clear_usage_id = grepl(\"accepted\", new_status, ignore.case = TRUE),   strict = FALSE,   quiet = FALSE,   args_tbl = NULL )"},{"path":"https://joelnitta.github.io/dwctaxon/reference/dct_change_status.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Change the taxonomic status of data in a taxonomic database — dct_change_status","text":"tax_dat Dataframe; taxonomic database Darwin Core format. taxon_id Character vector length 1; taxonID entry changed. sci_name Character vector length 1; scientificName entry changed. new_status Character vector length 1; updated taxonomicStatus use entry. usage_id Character vector length 1; taxonID accepted name new status synonym. usage_name Character vector length 1; scientificName accepted name new status synonym. clear_usage_id Logical vector length 1; acceptedNameUsageID set NA?. Default: TRUE new_status \"accepted\" (case insensitive). strict Logical vector length 1; taxonomic checks run updated taxonomic database? quiet Logical vector length 1; warnings silenced? args_tbl dataframe including columns corresponding one arguments, except tax_dat. case, input taxonomic database modified sequentially row input args_tbl.","code":""},{"path":"https://joelnitta.github.io/dwctaxon/reference/dct_change_status.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Change the taxonomic status of data in a taxonomic database — dct_change_status","text":"Dataframe; taxonomic database Darwin Core format","code":""},{"path":"https://joelnitta.github.io/dwctaxon/reference/dct_change_status.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Change the taxonomic status of data in a taxonomic database — dct_change_status","text":"usage_id usage_name provided new status synonym; either work makes partial full match one row data. Can either modify single row input taxonomic database argument supplied vector length 1, can apply set changes taxonomic database input supplied dataframe.","code":""},{"path":"https://joelnitta.github.io/dwctaxon/reference/dct_change_status.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Change the taxonomic status of data in a taxonomic database — dct_change_status","text":"","code":"# Swap the accepted / synonym status of # Cephalomanes crassum (Copel.) M. G. Price # and Trichomanes crassum Copel. dct_filmies |>   dct_change_status(     sci_name = \"Cephalomanes crassum (Copel.) M. G. Price\",     new_status = \"synonym\",     usage_name = \"Trichomanes crassum Copel.\"   ) |>   dct_change_status(     sci_name = \"Trichomanes crassum Copel.\",     new_status = \"accepted\"   ) |>   dct_validate(check_taxonomic_status = FALSE, strict_mapping = FALSE) #> # A tibble: 2,729 × 6 #>    taxonID  acceptedNameUsageID taxonomicStatus          taxon…¹ scien…² modif…³ #>    <chr>    <chr>               <chr>                    <chr>   <chr>   <chr>   #>  1 54115096 NA                  accepted name            species Cephal… NA      #>  2 54133783 NA                  accepted                 species Tricho… 2022-1… #>  3 54115097 54133783            synonym                  species Cephal… 2022-1… #>  4 54133784 54115098            synonym                  species Tricho… NA      #>  5 54115098 NA                  accepted name            species Cephal… NA      #>  6 54133785 54115099            synonym                  species Tricho… NA      #>  7 54115099 NA                  provisionally accepted … species Cephal… NA      #>  8 54133786 54115100            synonym                  species Cephal… NA      #>  9 54133787 54115100            synonym                  species Cephal… NA      #> 10 54133788 54115100            synonym                  species Cephal… NA      #> # … with 2,719 more rows, and abbreviated variable names ¹​taxonRank, #> #   ²​scientificName, ³​modified  # Sometimes changing one name will affect others, if they map # to the new synonym dct_change_status(   tax_dat = dct_filmies |> head(),   sci_name = \"Cephalomanes crassum (Copel.) M. G. Price\",   new_status = \"synonym\",   usage_name = \"Cephalomanes densinervium (Copel.) Copel.\" ) #> # A tibble: 6 × 6 #>   taxonID  acceptedNameUsageID taxonomicStatus taxonRank scientificName  modif…¹ #>   <chr>    <chr>               <chr>           <chr>     <chr>           <chr>   #> 1 54115096 NA                  accepted name   species   Cephalomanes a… NA      #> 2 54133783 54115098            synonym         species   Trichomanes cr… 2022-1… #> 3 54115097 54115098            synonym         species   Cephalomanes c… 2022-1… #> 4 54133784 54115098            synonym         species   Trichomanes de… NA      #> 5 54115098 NA                  accepted name   species   Cephalomanes d… NA      #> 6 54133785 54115099            synonym         species   Trichomanes in… NA      #> # … with abbreviated variable name ¹​modified  # Apply a set of changes library(tibble) updates <- tibble(   sci_name = c(\"Cephalomanes atrovirens Presl\",     \"Cephalomanes crassum (Copel.) M. G. Price\"),   new_status = \"synonym\",   usage_name = \"Trichomanes crassum Copel.\" ) dct_filmies |>   dct_change_status(args_tbl = updates) |>   dct_change_status(sci_name = \"Trichomanes crassum Copel.\",     new_status = \"accepted\") #> # A tibble: 2,729 × 6 #>    taxonID  acceptedNameUsageID taxonomicStatus          taxon…¹ scien…² modif…³ #>    <chr>    <chr>               <chr>                    <chr>   <chr>   <chr>   #>  1 54115096 NA                  accepted name            species Cephal… NA      #>  2 54133783 NA                  accepted                 species Tricho… 2022-1… #>  3 54115097 54133783            synonym                  species Cephal… 2022-1… #>  4 54133784 54115098            synonym                  species Tricho… NA      #>  5 54115098 NA                  accepted name            species Cephal… NA      #>  6 54133785 54115099            synonym                  species Tricho… NA      #>  7 54115099 NA                  provisionally accepted … species Cephal… NA      #>  8 54133786 54115100            synonym                  species Cephal… NA      #>  9 54133787 54115100            synonym                  species Cephal… NA      #> 10 54133788 54115100            synonym                  species Cephal… NA      #> # … with 2,719 more rows, and abbreviated variable names ¹​taxonRank, #> #   ²​scientificName, ³​modified"},{"path":"https://joelnitta.github.io/dwctaxon/reference/dct_filmies.html","id":null,"dir":"Reference","previous_headings":"","what":"Taxonomic data of filmy ferns — dct_filmies","title":"Taxonomic data of filmy ferns — dct_filmies","text":"Taxonomic data filmy ferns (family Hymenophyllaceae) Darwin Core format. Modified data downloaded Catalog Life Creative Commons Attribution (CC ) 4.0 license.","code":""},{"path":"https://joelnitta.github.io/dwctaxon/reference/dct_filmies.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Taxonomic data of filmy ferns — dct_filmies","text":"","code":"dct_filmies"},{"path":"https://joelnitta.github.io/dwctaxon/reference/dct_filmies.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Taxonomic data of filmy ferns — dct_filmies","text":"Dataframe (tibble), 2729 rows 5 columns. details data format, see https://dwc.tdwg.org/terms/#taxon.","code":""},{"path":"https://joelnitta.github.io/dwctaxon/reference/dct_filmies.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Taxonomic data of filmy ferns — dct_filmies","text":"https://dwc.tdwg.org/terms/#taxon","code":""},{"path":"https://joelnitta.github.io/dwctaxon/reference/dct_fix_format.html","id":null,"dir":"Reference","previous_headings":"","what":"Fix the format of a taxonomic database to conform with Darwin Core Taxon standards — dct_fix_format","title":"Fix the format of a taxonomic database to conform with Darwin Core Taxon standards — dct_fix_format","text":"Fix format taxonomic database conform Darwin Core Taxon standards","code":""},{"path":"https://joelnitta.github.io/dwctaxon/reference/dct_fix_format.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Fix the format of a taxonomic database to conform with Darwin Core Taxon standards — dct_fix_format","text":"","code":"dct_fix_format(tax_dat)"},{"path":"https://joelnitta.github.io/dwctaxon/reference/dct_fix_format.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Fix the format of a taxonomic database to conform with Darwin Core Taxon standards — dct_fix_format","text":"tax_dat Dataframe; taxonomic database supposed Darwin Core format","code":""},{"path":"https://joelnitta.github.io/dwctaxon/reference/dct_fix_format.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Fix the format of a taxonomic database to conform with Darwin Core Taxon standards — dct_fix_format","text":"Dataframe; taxonomic database Darwin Core format","code":""},{"path":"https://joelnitta.github.io/dwctaxon/reference/dct_terms.html","id":null,"dir":"Reference","previous_headings":"","what":"Darwin Core Taxon terms — dct_terms","title":"Darwin Core Taxon terms — dct_terms","text":"table valid Darwin Core terms. terms Taxon class record-level included.","code":""},{"path":"https://joelnitta.github.io/dwctaxon/reference/dct_terms.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Darwin Core Taxon terms — dct_terms","text":"","code":"dct_terms"},{"path":"https://joelnitta.github.io/dwctaxon/reference/dct_terms.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Darwin Core Taxon terms — dct_terms","text":"Dataframe (tibble), including three columns: group: Darwin Core term group; either \"taxon\" (terms Taxon class) \"record-level\" (terms generic might apply type record dataset.) term: Darwin Core term type: Type data, corresponding class R (except \"date\"). two additional attributes: retrieved: Date terms obtained url: URL terms obtained","code":""},{"path":"https://joelnitta.github.io/dwctaxon/reference/dct_terms.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Darwin Core Taxon terms — dct_terms","text":"https://dwc.tdwg.org/terms/#taxon","code":""},{"path":"https://joelnitta.github.io/dwctaxon/reference/dct_validate.html","id":null,"dir":"Reference","previous_headings":"","what":"Check that a taxonomic database is correctly formatted — dct_validate","title":"Check that a taxonomic database is correctly formatted — dct_validate","text":"Stops error check fails. checks geared towards able use taxonomic database taxonomic name resolution species level.","code":""},{"path":"https://joelnitta.github.io/dwctaxon/reference/dct_validate.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Check that a taxonomic database is correctly formatted — dct_validate","text":"","code":"dct_validate(   tax_dat,   check_taxon_id = TRUE,   check_mapping = TRUE,   check_taxonomic_status = TRUE,   check_acc_syn_diff = TRUE,   check_col_names = TRUE,   strict_mapping = TRUE,   valid_tax_status = Sys.getenv(\"VALID_TAX_STATUS\", unset =     \"accepted, synonym, variant, NA\") )"},{"path":"https://joelnitta.github.io/dwctaxon/reference/dct_validate.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Check that a taxonomic database is correctly formatted — dct_validate","text":"tax_dat Dataframe; taxonomic database Darwin Core format check_taxon_id Logical; instances taxonID required non-missing unique? check_mapping Logical; values acceptedNameUsageID required map taxonID existing name? check_taxonomic_status Logical; taxonomic names required include valid value taxonomic status (default, \"accepted\", \"synonym\", \"variant\")? check_acc_syn_diff Logical; scientific name allowed one taxonomic status? check_col_names Logical; column names required valid Darwin Core term? strict_mapping Logical; rules mapping variants synonyms enforced? (see Details) valid_tax_status Character vector length 1; valid values taxonomicStatus. value must separated comma. Default \"accepted, synonym, variant, NA\". \"NA\" indicates missing (NA) values valid. Case-sensitive. Can also set environmental variable \"VALID_TAX_STATUS\".","code":""},{"path":"https://joelnitta.github.io/dwctaxon/reference/dct_validate.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Check that a taxonomic database is correctly formatted — dct_validate","text":"Dataframe; taxonomic database Darwin Core format. input.","code":""},{"path":"https://joelnitta.github.io/dwctaxon/reference/dct_validate.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Check that a taxonomic database is correctly formatted — dct_validate","text":"check_acc_syn_diff strict_mapping, \"accepted\", \"synonym\", \"variant\" determined string matching taxonomicStatus; \"provisionally accepted\" counted \"accepted\", \"ambiguous synonym\" counted \"synonym\", etc (case-sensitive). strict_mapping, following rules enforced: Rows taxonomicStatus \"synonym\" (synonyms) must acceptedNameUsageID matching taxonID accepted name ( taxonomicStatus \"accepted\") Rows taxonomicStatus \"variant\" (orthographic variants) must acceptedNameUsageID matching taxonID accepted name synonym (another variant) Rows taxonomicStatus \"accepted\" must value entered acceptedNameUsageID Rows value acceptedNameUsageID must valid value taxonomicStatus.","code":""},{"path":"https://joelnitta.github.io/dwctaxon/reference/dct_validate.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Check that a taxonomic database is correctly formatted — dct_validate","text":"","code":"dct_validate(   dct_filmies,   valid_tax_status =     paste(\"accepted name, ambiguous synonym, provisionally accepted name,\",           \"synonym, variant\") ) #> # A tibble: 2,729 × 5 #>    taxonID  acceptedNameUsageID taxonomicStatus             taxonRank scientif…¹ #>    <chr>    <chr>               <chr>                       <chr>     <chr>      #>  1 54115096 NA                  accepted name               species   Cephaloma… #>  2 54133783 54115097            synonym                     species   Trichoman… #>  3 54115097 NA                  accepted name               species   Cephaloma… #>  4 54133784 54115098            synonym                     species   Trichoman… #>  5 54115098 NA                  accepted name               species   Cephaloma… #>  6 54133785 54115099            synonym                     species   Trichoman… #>  7 54115099 NA                  provisionally accepted name species   Cephaloma… #>  8 54133786 54115100            synonym                     species   Cephaloma… #>  9 54133787 54115100            synonym                     species   Cephaloma… #> 10 54133788 54115100            synonym                     species   Cephaloma… #> # … with 2,719 more rows, and abbreviated variable name ¹​scientificName"}]
